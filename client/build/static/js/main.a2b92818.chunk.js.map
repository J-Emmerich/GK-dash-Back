{"version":3,"sources":["helpers/history.js","constants/index.js","navigation/PrivateRoute.js","services/userContext.js","navigation/Nav.js","helpers/handle-file-download.js","services/invoice.js","views/dashboard/invoices/components/InvoiceForm.js","views/dashboard/invoices/components/InvoiceTable.js","views/dashboard/invoices/InvoiceDashboard.js","services/crm.js","views/dashboard/crm/components/CRMTable.js","views/dashboard/crm/components/CRMForm.js","views/dashboard/crm/CRMDashboard.js","views/dashboard/Home.js","services/settings.js","views/dashboard/settings/Settings.js","views/dashboard/Dashboard.js","styleApp.js","services/auth.js","views/landing/LoginForm.js","views/pdf-page/components/Header.js","views/pdf-page/components/CustDetails.js","views/pdf-page/components/Articles.js","views/pdf-page/components/Total.js","services/pdf.js","views/pdf-page/DocumentPDF.js","App.js","index.js"],"names":["createBrowserHistory","apiConstants","ACCESS_TOKEN","LOGGED_USER","SELECTED_PROJECT","PrivateRoute","component","Component","user","rest","token","localStorage","getItem","constants","render","props","to","UserContext","createContext","UserProvider","children","setUser","useState","selectedProject","setSelectedProject","useEffect","JSON","parse","Provider","value","login","response","setItem","stringify","currentProject","foundProject","projects","find","project","_id","projectToSave","projectName","projectId","history","push","pathname","logout","removeItem","updateUser","receivedUser","err","console","log","updateWorkingProjectContext","workingProject","Container","styled","div","ListItemLink","icon","primary","renderLink","React","useMemo","forwardRef","itemProps","ref","activeClassName","ListItem","button","ListItemIcon","ListItemText","Nav","List","color","handleFileDownload","responseObject","filename","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","baseUrl","process","REACT_APP_API_ENDPOINT","path","async","axios","get","headers","Authorization","invoice","post","put","id","delete","pdf","responseType","dayjs","extend","utc","FlexContainer","Form","form","Title","Header","StyledButton","Button","StyledTextField","TextField","StyledDate","KeyboardDatePicker","InvoiceForm","onSubmit","isEditing","closeModal","selectedDate","setSelectedDate","control","handleSubmit","reset","setValue","useForm","defaultValues","fields","append","remove","replace","useFieldArray","name","clientName","invoiceNumber","invoiceDate","orderNumber","invoiceTotal","invoiceSubTotal","invoiceTax","__v","keepDefaultValues","articles","rules","required","field","fieldState","error","label","variant","margin","helperText","message","utils","DayJsUtils","autoOk","inputVariant","format","placeholder","onChange","date","isValid","handleDateChange","KeyboardButtonProps","map","item","index","type","onClick","articleName","pricePerUnit","quantity","vat","totalPrice","advancedFormat","Table","table","TableHeader","thead","Pagination","InvoiceTable","handleClick","saveToPdf","deleteInvoice","filterInput","setFilterInput","formatDate","columns","accessor","sortBy","row","Cell","cell","className","original","getTableProps","getTableBodyProps","headerGroups","page","prepareRow","setFilter","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","pageIndex","pageSize","useTable","useFilters","useSortBy","usePagination","e","target","undefined","headerGroup","getHeaderGroupProps","column","getHeaderProps","getSortByToggleProps","isSorted","isSortedDesc","cells","getCellProps","onMouseEnter","parentNode","style","backgroundColor","onMouseLeave","disabled","length","defaultValue","Number","width","Select","MenuItem","modalStyle","position","height","left","top","overflowY","newInvoice","Dashboard","section","DashboardHeader","Content","InvoiceDashboard","setInvoice","invoiceSaved","setInvoiceSaved","invoiceList","setInvoiceList","setIsEditing","openModal","setOpenModal","callGetInvoices","invoices","services","resetDashboardState","editInvoice","invoiceReceived","handlePdf","confirm","Modal","open","onClose","filledInvoice","event","preventDefault","getCustomers","saveCustomer","customer","editCustomer","deleteCustomer","CRMTable","StyledSelect","CRMForm","submitCRMForm","hiddenSelect","setHiddenSelect","modeloContrato","estadoContrato","pets","validate","FormControl","FormHelperText","size","multiline","rows","petName","petType","comment","newCustomer","CRMDashboard","setCustomer","customerSaved","setCustomerSaved","customerList","setCustomerList","callGetCustomers","customers","customerReceived","customerToSave","Home","Checkbox","checked","Settings","setProjectName","hasSaved","setHasSaved","setWorkingProject","useContext","fetchUpdatedUser","updateWorkingProject","currentProjectToSave","saveWorkingProject","projectUsers","userId","role","saveProject","useStyles","makeStyles","root","textAlign","display","flexDirection","minHeight","appBar","background","padding","title","container","flex","drawer","transition","closed","opened","main","footer","FixHeader","classes","isOpened","setIsOpened","AppBar","Toolbar","IconButton","Typography","marginLeft","Drawer","paper","clsx","exact","username","password","Error","msg","FormTitle","p","BottomMessage","ErrorMessage","InputBlock","LoginForm","submitUser","isLoginForm","setIsLoginForm","errorMessage","setErrorMessage","setUsername","setPassword","setTimeout","submitLogin","submitRegister","src","location","origin","alt","CustDetails","Articles","colSpan","article","articleId","Total","DocumentPDF","match","getInvoiceData","params","invoiceData","client","App","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.a2b92818.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","const apiConstants = {\r\n  ACCESS_TOKEN: \"ACCESS_TOKEN\",\r\n  LOGGED_USER: \"LOGGED_USER\",\r\n  SELECTED_PROJECT: \"SELECTED_PROJECT\"\r\n};\r\n\r\nexport default apiConstants;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport constants from \"../constants/index\";\r\n\r\nconst PrivateRoute = ({ component: Component, user, ...rest }) => {\r\n  const token = localStorage.getItem(constants.ACCESS_TOKEN);\r\n  return (\r\n    // Show the component only when the user is logged in\r\n    // Otherwise, redirect the user to /signin page\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        token ? <Component {...props} token={token} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, createContext, useEffect } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport constants from \"../constants/index\";\r\nimport history from \"../helpers/history\";\r\n\r\nconst UserContext = createContext();\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState({});\r\n  const [selectedProject, setSelectedProject] = useState()\r\n  useEffect(() => {\r\n    if (localStorage.getItem(constants.LOGGED_USER)) {\r\n      setUser(JSON.parse(localStorage.getItem(constants.LOGGED_USER)));\r\n      if(localStorage.getItem(constants.SELECTED_PROJECT)){\r\n        setSelectedProject(JSON.parse(localStorage.getItem(constants.SELECTED_PROJECT)))\r\n      }  \r\n    }\r\n\r\n  }, []);\r\n  const login = (response) => {\r\n    localStorage.setItem(constants.ACCESS_TOKEN, response.token);\r\n    localStorage.setItem(constants.LOGGED_USER, JSON.stringify(response.user));\r\n    setUser(response.user);\r\n   if(response.user.currentProject && response.user.currentProject !== \"\"){\r\n     const foundProject = response.user.projects.find(project => {\r\n      return project._id === response.user.currentProject;\r\n     })\r\n\r\n     const projectToSave = {projectName: foundProject.projectName, projectId: foundProject._id}\r\n     setSelectedProject(projectToSave)\r\n   }\r\n   \r\n    history.push({ pathname: \"/app\" });\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(constants.ACCESS_TOKEN);\r\n    localStorage.removeItem(constants.LOGGED_USER);\r\n   \r\n\r\n    setUser({});\r\n    setSelectedProject({projectId: \"\", projectName: \"\"})\r\n    history.push({ pathname: \"/\" });\r\n  };\r\n\r\n  const updateUser = (receivedUser) => {\r\n    try{\r\nsetUser(receivedUser);\r\n    } catch (err){\r\n      console.log(err)\r\n    }\r\n  }\r\nconst updateWorkingProjectContext = (workingProject) => {\r\n  const foundProject = user.projects.find(project => project.projectName === workingProject);\r\n  const projectToSave = {projectName: foundProject.projectName, projectId: foundProject._id}\r\n  \r\n  setSelectedProject(projectToSave)\r\n}\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, login, logout, updateUser, selectedProject, updateWorkingProjectContext }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport { UserProvider, UserContext };\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  overflow: hidden;\r\n`;\r\n\r\nfunction Nav() {\r\n  return (\r\n    <>\r\n      <List component={Container}>\r\n        <ListItemLink\r\n          to=\"/app\"\r\n          primary=\"Home\"\r\n          icon={<HomeIcon color=\"primary\" />}\r\n        />\r\n    \r\n        <ListItemLink\r\n          to=\"/app/pdf\"\r\n          primary=\"Facturas\"\r\n          icon={<ReceiptIcon color=\"primary\" />}\r\n        />\r\n        <ListItemLink\r\n          to=\"/app/customer\"\r\n          primary=\"Clientes\"\r\n          icon={<PersonIcon color=\"primary\" />}\r\n        />\r\n       \r\n        <ListItemLink\r\n          to=\"/app/ajustes\"\r\n          primary=\"Ajustes\"\r\n          icon={<SettingsIcon color=\"primary\" />}\r\n        />\r\n      </List>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to } = props;\r\n\r\n  const renderLink = React.useMemo(\r\n    () =>\r\n      React.forwardRef((itemProps, ref) => (\r\n        <NavLink activeClassName=\"active-nav-link\" to={to} {...itemProps} />\r\n      )),\r\n    [to]\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem button component={renderLink}>\r\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","const handleFileDownload = (responseObject, filename) => {\r\n    const url = window.URL.createObjectURL(new Blob([responseObject.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', `${filename}.pdf`);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n}\r\n\r\nexport default handleFileDownload;","import axios from \"axios\";\r\nimport handleFileDownload from \"../helpers/handle-file-download\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_ENDPOINT || \"/api\";\r\nconst path = \"invoice\";\r\nconst getInvoices = async (token) => {\r\n  try {\r\n    const invoices = await axios.get(`${baseUrl}/${path}`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n    return invoices.data.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getOneInvoice = async (token, id) => {\r\n  try {\r\n    const invoice = await axios.get(`${baseUrl}/${path}/${id}`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n    return invoice.data.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst saveInvoice = async (token, invoice) => {\r\n  try {\r\n    await axios.post(`${baseUrl}/${path}`, invoice, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n  } catch (err) {\r\n    console.log(\"has an error\");\r\n    console.log(err);\r\n  }\r\n};\r\nconst editInvoice = async (token, invoice) => {\r\n  try {\r\n\r\n    await axios.put(`${baseUrl}/${path}/${invoice._id}`, invoice, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst deleteInvoice = async (token, id) => {\r\n  try {\r\n    const invoice = await axios.delete(`${baseUrl}/${path}/${id}`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst saveToPdf = async (token, id) => {\r\n  try {\r\n    const pdf = await axios.get(`${baseUrl}/${path}/download/${id}`, {\r\n      headers: { Authorization: `Bearer: ${token}` },\r\n      responseType: \"blob\"\r\n    });\r\n\r\n    handleFileDownload(pdf, id);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport default {\r\n  getInvoices,\r\n  getOneInvoice,\r\n  saveInvoice,\r\n  editInvoice,\r\n  deleteInvoice,\r\n  saveToPdf\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {useForm, Controller, useFieldArray} from \"react-hook-form\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport styled from \"styled-components\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport dayjs from \"dayjs\";\r\nimport utc from \"dayjs/plugin/utc\";\r\n\r\nimport DayJsUtils from \"@date-io/dayjs\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker\r\n} from \"@material-ui/pickers\";\r\n\r\ndayjs.extend(utc);\r\n\r\n\r\nconst FlexContainer = styled.div`\r\n  display: flex;\r\n  background-color: #eee;\r\n  margin: 10px;\r\n  flex-flow: column wrap;\r\n  & button {\r\n    align-self: center;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n  margin: 0px 10px;\r\n  & fieldset {\r\n    border: solid 0 black;\r\n  }\r\n  & input[type=\"text\"],\r\n  input[type=\"number\"] {\r\n    background-color: #f3f3f3;\r\n    border: none;\r\n  }\r\n`;\r\nconst Title = styled.div`\r\n  align-self: center;\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n  & fieldset {\r\n    display: flex;\r\n    flex-flow: column wrap;\r\n    justify-content: space-around;\r\n  }\r\n  & div {\r\n    display: flex;\r\n    margin: 5px 10px 5px 10px;\r\n    flex-grow: 1;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  && {\r\n    margin: 5px 0px;\r\n  }\r\n`;\r\n\r\nconst StyledTextField = styled(TextField)`\r\n  margin: 0px 20px;\r\n  & input,\r\n  textarea,\r\n  select,\r\n  option {\r\n    padding: 20px;\r\n    background-color: #f3f3f3;\r\n  }\r\n`;\r\n\r\nconst StyledDate = styled(KeyboardDatePicker)`\r\n  & input {\r\n    padding: 20px;\r\n  }\r\n`;\r\nconst InvoiceForm = ({\r\n  onSubmit,\r\n  isEditing,\r\n  invoice,\r\n  closeModal\r\n}) => {\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\nconst {control, handleSubmit, reset, setValue} = useForm({defaultValues:{}});\r\nconst {fields, append, remove, replace} = useFieldArray({control, name: 'articles'})\r\nuseEffect(()=>{\r\n  if(isEditing){\r\n    reset({\r\n      clientName: invoice.clientName,\r\n      invoiceNumber: invoice.invoiceNumber,\r\n      invoiceDate: invoice.invoiceDate,\r\n      orderNumber: invoice.orderNumber || \"\",\r\n      invoiceTotal: invoice.invoiceTotal,\r\n      invoiceSubTotal: invoice.invoiceSubTotal,\r\n      invoiceTax: invoice.invoiceTax,\r\n      _id: invoice._id,\r\n      projectId: invoice.projectId,\r\n      __v: invoice.__v\r\n    }, {keepDefaultValues: true})\r\n    replace(invoice.articles)\r\n  }\r\n  setSelectedDate(invoice.invoiceDate);\r\n},[])\r\n\r\n  const handleDateChange = (date) => {\r\n    if (dayjs(date).isValid()) {\r\n      const UTCdate = dayjs(date).utc(true).format();\r\n      const event = {\r\n        target: {\r\n          name: \"invoiceDate\",\r\n          value: UTCdate\r\n        }\r\n      };\r\n      setSelectedDate(date);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <Title>\r\n          <h2>\r\n            Factura n# <span>{invoice.invoiceNumber}</span>\r\n          </h2>\r\n        </Title>\r\n        <hr />\r\n        <Header>\r\n          <fieldset>\r\n            <Controller \r\n            name=\"clientName\"\r\n            control={control}\r\n            rules={{required: \"Campo requerido\"}}\r\n            render={({field, fieldState: {error}})=><StyledTextField label=\"Nombre del cliente\" variant=\"outlined\"\r\n              margin=\"none\" {...field} error={!!error} helperText={error? error.message : null} ></StyledTextField>}\r\n            >\r\n            </Controller>\r\n            <Controller\r\n            name=\"invoiceNumber\"\r\n            control={control}\r\n            rules={{required: \"Campo requerido\"}}\r\n            render={({field, fieldState:{error}})=><StyledTextField label=\"Numero de la factura\" variant=\"outlined\" {...field} error={!!error} helperText={error? error.message : null}></StyledTextField>}\r\n            >\r\n            </Controller>\r\n          <Controller\r\n          name=\"orderNumber\"\r\n          control={control}\r\n          render={({field, fieldState:{error}})=><StyledTextField {...field} label=\"Número del pedido\" variant=\"outlined\" error={!!error} helperText={error ? error.message : null} ></StyledTextField>}\r\n          >\r\n\r\n          </Controller>\r\n           \r\n          </fieldset>\r\n          <hr />\r\n          <div>\r\n            <MuiPickersUtilsProvider utils={DayJsUtils}>\r\n              <StyledDate\r\n                autoOk\r\n                inputVariant=\"standard\"\r\n                variant=\"inline\"\r\n                format=\"DD/MM/YYYY\"\r\n                margin=\"normal\"\r\n                id=\"date-picker-inline\"\r\n                placeholder=\"Fecha de la Factura\"\r\n                value={selectedDate? selectedDate : dayjs.utc()}\r\n                onChange={(date) => handleDateChange(date)}\r\n                KeyboardButtonProps={{\r\n                  \"aria-label\": \"change date\"\r\n                }}\r\n                name=\"invoiceDate\"\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n          </div>\r\n        </Header>\r\n\r\n        <Title>\r\n          <h2>Itens </h2>\r\n        </Title>\r\n        <hr />\r\n        <section>\r\n          {fields.map((item, index)=>\r\n          <FlexContainer key={item.id}>\r\n          <Controller\r\n            name={`articles[${index}].articleName`}\r\n            control={control}\r\n            rules={{required: \"este campo es requerido\"}}\r\n            render={({field, fieldState:{error}})=><StyledTextField helperText={error? error.message : null} error={!!error} label=\"Artículo\" variant=\"outlined\" {...field}></StyledTextField>}\r\n            ></Controller>\r\n          <Controller\r\n            name={`articles[${index}].pricePerUnit`}\r\n            control={control}\r\n            rules={{required: \"este campo es requerido\"}}\r\n            render={({field, fieldState:{error}})=><StyledTextField type=\"number\" helperText={error? error.message : null} error={!!error} label=\"Precio por unidad\" variant=\"outlined\" {...field}></StyledTextField>}\r\n            ></Controller>\r\n          <Controller\r\n            name={`articles[${index}].quantity`}\r\n            control={control}\r\n            rules={{required: \"este campo es requerido\"}}\r\n            render={({field, fieldState:{error}})=><StyledTextField type=\"number\" helperText={error? error.message : null} error={!!error} label=\"Cuantidad\" variant=\"outlined\" {...field}></StyledTextField>}\r\n            ></Controller>\r\n          <Controller\r\n            name={`articles[${index}].vat`}\r\n            control={control}\r\n            rules={{required: \"este campo es requerido\"}}\r\n            render={({field, fieldState:{error}})=><StyledTextField type=\"number\" helperText={error? error.message : null} error={!!error} label=\"IVA\" variant=\"outlined\" {...field}></StyledTextField>}\r\n            ></Controller>\r\n          <Controller\r\n            name={`articles[${index}].totalPrice`}\r\n            control={control}\r\n            rules={{required: \"este campo es requerido\"}}\r\n            render={({field, fieldState:{error}})=><StyledTextField type=\"number\" helperText={error? error.message : null} error={!!error} label=\"Precio Total\" variant=\"outlined\" {...field}></StyledTextField>}\r\n            ></Controller>\r\n           \r\n            <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={() => remove(index)}\r\n        >\r\n          Eliminar artículo\r\n        </Button>\r\n            </FlexContainer>\r\n          )}\r\n        </section>\r\n        \r\n        <Button variant=\"contained\" color=\"primary\" onClick={()=>{\r\n          console.log(\"click\");\r\n          append({articleName: \"\", pricePerUnit: 0, quantity: 0, vat: 21, totalPrice: 0})\r\n        }}>\r\n        \r\n        Añadir Artículo\r\n        </Button>\r\n\r\n        <Title>\r\n          <h2>Total</h2>\r\n        </Title>\r\n        <hr />\r\n        <Controller\r\n        name=\"invoiceTotal\"\r\n        control={control}\r\n        rules={{required: \"campo requerido\"}}\r\n        render={({field, fieldState:{error}})=><StyledTextField type=\"number\" label=\"Total Factura\" variant=\"outlined\" {...field} error={!!error} helperText={error? error.message : null}></StyledTextField>}\r\n        >\r\n        </Controller>\r\n        \r\n<Controller\r\nname=\"invoiceSubTotal\"\r\ncontrol={control}\r\nrules={{required: \"campo requerido\"}}\r\n        render={({field, fieldState:{error}})=><StyledTextField type=\"number\" label=\"Base Imponible\" variant=\"outlined\" {...field} error={!!error} helperText={error? error.message : null}></StyledTextField>}\r\n        \r\n></Controller>\r\n<Controller\r\nname=\"invoiceTax\"\r\ncontrol={control}\r\nrules={{required: \"campo requerido\"}}\r\n        render={({field, fieldState:{error}})=><StyledTextField type=\"number\" label=\"Importe del IVA\" variant=\"outlined\" {...field} error={!!error} helperText={error? error.message : null}></StyledTextField>}\r\n        \r\n></Controller>\r\n\r\n      \r\n        <hr />\r\n        <StyledButton\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          Guardar Factura\r\n        </StyledButton>\r\n        <StyledButton\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={closeModal}\r\n        >\r\n          Cancelar\r\n        </StyledButton>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoiceForm;\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { useTable, useSortBy, useFilters, usePagination } from \"react-table\";\r\nimport dayjs from \"dayjs\";\r\nimport advancedFormat from \"dayjs/plugin/advancedFormat\";\r\nimport styled from \"styled-components\";\r\n\r\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport NavigateNext from \"@material-ui/icons/NavigateNext\";\r\nimport NavigateBefore from \"@material-ui/icons/NavigateBefore\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ArrowDropUpIcon from \"@material-ui/icons/ArrowDropUp\";\r\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\r\n\r\ndayjs.extend(advancedFormat); // Plugin to format date\r\n\r\nconst Table = styled.table`\r\n  border-collapse: collapse;\r\n  border-radius: 1em;\r\n  overflow: hidden;\r\n  width: 100%;\r\n`;\r\n\r\nconst TableHeader = styled.thead`\r\n  background-color: #eee;\r\n  & th {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  padding-top: 15px;\r\n  .react-td,\r\n  .save-to-pdf,\r\n  .delete {\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  td {\r\n    padding: 10px;\r\n  }\r\n  input {\r\n    margin-bottom: 20px;\r\n    padding: 10px;\r\n  }\r\n  th {\r\n    padding-left: 10px;\r\n    height: 30px;\r\n    & div {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Pagination = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst InvoiceTable = ({ data, handleClick, saveToPdf, deleteInvoice }) => {\r\n  const [filterInput, setFilterInput] = useState(\"\");\r\n  // Update the state when input changes\r\n  const handleFilterChange = (e) => {\r\n    const value = e.target.value || undefined;\r\n    setFilter(\"clientName\", value);\r\n    setFilterInput(value);\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    const newDate = dayjs(date).format(\"DD-MM-YYYY\");\r\n\r\n    return date;\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"Nombre\",\r\n        accessor: \"clientName\",\r\n        sortBy: \"string\"\r\n      },\r\n      {\r\n        Header: \"Fecha\",\r\n        accessor: (row) => row.invoiceDate, //\r\n        sortBy: \"datetime\",\r\n        Cell: (props) => {\r\n          return <>{formatDate(props.cell.value)}</>;\r\n        }\r\n      },\r\n      {\r\n        Header: \"Numero de Factura\",\r\n        accessor: \"invoiceNumber\"\r\n      },\r\n      {\r\n        Header: \"Total\",\r\n        accessor: \"invoiceTotal\",\r\n        sortBy: \"basic\"\r\n      },\r\n      {\r\n        Header: \"Download\",\r\n        accessor: \"_id\",\r\n        Cell: (props) => {\r\n          return (\r\n            <PictureAsPdfIcon\r\n              className=\"save-to-pdf\"\r\n              onClick={() => saveToPdf(props.cell.value)}\r\n            >\r\n              PDF\r\n            </PictureAsPdfIcon>\r\n          );\r\n        }\r\n      },\r\n      {\r\n        Header: \"Delete\",\r\n        accessor: \"\",\r\n        Cell: (props) => {\r\n          return (\r\n            <DeleteIcon\r\n              className=\"delete\"\r\n              onClick={() => deleteInvoice(props.cell.row.original._id)}\r\n            >\r\n              PDF\r\n            </DeleteIcon>\r\n          );\r\n        }\r\n      }\r\n    ],\r\n    [saveToPdf]\r\n  );\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    prepareRow,\r\n    setFilter,\r\n    // Pagination helpers\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize }\r\n  } = useTable({ columns, data }, useFilters, useSortBy, usePagination);\r\n\r\n  return (\r\n    <Container>\r\n      <input\r\n        value={filterInput}\r\n        onChange={handleFilterChange}\r\n        placeholder={\"Buscar por nombre\"}\r\n      />\r\n      <Table {...getTableProps()}>\r\n        <TableHeader>\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column) => (\r\n                <th {...column.getHeaderProps(column.getSortByToggleProps())}>\r\n                  <div>\r\n                    {column.render(\"Header\")}\r\n                    <span>\r\n                      {column.isSorted ? (\r\n                        column.isSortedDesc ? (\r\n                          <ArrowDropDownIcon />\r\n                        ) : (\r\n                          <ArrowDropUpIcon />\r\n                        )\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </TableHeader>\r\n\r\n        <tbody className=\"rt-tbody\" {...getTableBodyProps()}>\r\n          {page.map((row) => {\r\n            prepareRow(row);\r\n            return (\r\n              <tr key={row.original._id}>\r\n                {row.cells.map((cell) => {\r\n                  if (\r\n                    cell.column.Header !== \"Download\" &&\r\n                    cell.column.Header !== \"Delete\"\r\n                  ) {\r\n                    return (\r\n                      <td\r\n                        className=\"react-td\"\r\n                        {...cell.getCellProps()}\r\n                        onMouseEnter={(e) => {\r\n                          e.target.parentNode.style.backgroundColor = \"#F1769A\";\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.target.parentNode.style.backgroundColor = \"inherit\";\r\n                        }}\r\n                        onClick={() => {\r\n                          handleClick(cell.row.original);\r\n                        }}\r\n                      >\r\n                        {cell.render(\"Cell\")}\r\n                      </td>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\r\n                    );\r\n                  }\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n      <Pagination>\r\n        <button onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          <FirstPage />\r\n        </button>{\" \"}\r\n        <button onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          <NavigateBefore />\r\n        </button>{\" \"}\r\n        <button onClick={() => nextPage()} disabled={!canNextPage}>\r\n          <NavigateNext />\r\n        </button>{\" \"}\r\n        <button onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          <LastPage />\r\n        </button>{\" \"}\r\n        <span>\r\n          Página\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{\" \"}\r\n        </span>\r\n        <span>\r\n          | Ir a la página:{\" \"}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={(e) => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0;\r\n              gotoPage(page);\r\n            }}\r\n            style={{ width: \"100px\" }}\r\n          />\r\n        </span>{\" \"}\r\n        <Select\r\n          value={pageSize}\r\n          onChange={(e) => {\r\n            setPageSize(Number(e.target.value));\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map((pageSize) => (\r\n            <MenuItem key={pageSize} value={pageSize}>\r\n              {pageSize}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </Pagination>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default InvoiceTable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport services from \"../../../services/invoice\";\r\nimport styled from \"styled-components\";\r\nimport InvoiceForm from \"./components/InvoiceForm\";\r\nimport InvoiceTable from \"./components/InvoiceTable\";\r\n\r\nconst modalStyle = {\r\n  backgroundColor: \"white\",\r\n  position: \"absolute\",\r\n  width: \"50%\",\r\n  height: \"70%\",\r\n  left: \"20%\",\r\n  top: \"15%\",\r\n  overflowY: \"auto\"\r\n};\r\n\r\nlet newInvoice = {\r\n  invoiceNumber: \"\",\r\n  invoiceDate: \"\",\r\n  orderNumber: \"\",\r\n  invoiceTotal: \"\",\r\n  invoiceSubTotal: \"\",\r\n  invoiceTax: \"\",\r\n  clientName: \"\",\r\n  articles: \"\"\r\n};\r\n\r\n\r\nconst Dashboard = styled.section`\r\n  padding-top: 20px;\r\n`;\r\nconst DashboardHeader = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Content = styled.section`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-content: center;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst InvoiceDashboard = ({ token }) => {\r\n  // Modal Inputs State\r\n  const [invoice, setInvoice] = useState(newInvoice);\r\n  const [invoiceSaved, setInvoiceSaved] = useState(false);\r\n  // Invoice List State\r\n  const [invoiceList, setInvoiceList] = useState([]);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    callGetInvoices();\r\n  }, [invoiceSaved]);\r\n\r\n  const callGetInvoices = async () => {\r\n    try {\r\n      const invoices = await services.getInvoices(token);\r\n      if(invoices && invoices?.length !== undefined){\r\n        setInvoiceList(invoices);\r\n      }\r\n      \r\n      \r\n    } catch (error) {\r\n      setInvoiceList([])\r\n      console.log(error)\r\n    }\r\n  }\r\n  const resetDashboardState = () => {\r\n    setOpenModal(false);\r\n    setIsEditing(false);\r\n    setInvoice(newInvoice);\r\n  };\r\n\r\n  // Save the articles list to the current invoice\r\n  const handleSubmit = async (filledInvoice, event) => {\r\n    event.preventDefault();\r\n    await services.saveInvoice(token, filledInvoice);\r\n    setInvoiceSaved(!invoiceSaved);\r\n    resetDashboardState();\r\n  };\r\n  // End of invoice Handlers\r\n\r\n  // Editing invoice\r\n  const editInvoice = (invoiceReceived) => {\r\n    setInvoice(invoiceReceived);\r\n    setIsEditing(true);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleEdit = async (filledInvoice, event) => {\r\n    event.preventDefault();\r\n    await services.editInvoice(token, filledInvoice);\r\n    setInvoiceSaved(!invoiceSaved);\r\n    resetDashboardState();\r\n  };\r\n\r\n  const handlePdf = async (id) => {\r\n    if (window.confirm(\"do you want to save it?\")) {\r\n      await services.saveToPdf(token, id);\r\n    } else {\r\n      console.log(\"so bad!\");\r\n    }\r\n  };\r\n\r\n  const deleteInvoice = async (id) => {\r\n    if (window.confirm(\"Do you really want to delete the file?\")) {\r\n      await services.deleteInvoice(token, id);\r\n      setInvoiceSaved(!invoiceSaved);\r\n      resetDashboardState();\r\n    } else {\r\n      console.log(\"so bad!\");\r\n    }\r\n  };\r\n  const callTable = () => {\r\n    \r\n    return (\r\n      <InvoiceTable\r\n      data={invoiceList}\r\n      handleClick={editInvoice}\r\n      saveToPdf={handlePdf}\r\n      deleteInvoice={deleteInvoice}\r\n    />\r\n    );\r\n  };\r\n  return (\r\n    <Dashboard>\r\n      <div>\r\n        <DashboardHeader>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpenModal(true)}\r\n          >\r\n            Nueva Factura\r\n          </Button>\r\n        </DashboardHeader>\r\n        <Content>\r\n          {invoiceList ?\r\n            callTable() : null}\r\n        </Content>\r\n        <Modal open={openModal} onClose={() => resetDashboardState()}>\r\n          <div style={modalStyle}>\r\n            <InvoiceForm\r\n              onSubmit={isEditing ? handleEdit : handleSubmit}\r\n              isEditing={isEditing}\r\n              invoice={invoice}\r\n              closeModal={() => resetDashboardState()}\r\n            />\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    </Dashboard>\r\n  );\r\n};\r\n\r\nexport default InvoiceDashboard;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_ENDPOINT || \"/api\";\r\n\r\nconst getCustomers = async (token) => {\r\n  try {\r\n    const customers = await axios.get(`${baseUrl}/customer`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n\r\n    return customers.data.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst saveCustomer = async (token, customer) => {\r\n  try {\r\n    const response = await axios.post(`${baseUrl}/customer`, customer, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n    return response.data.data;\r\n  } catch (err) {\r\n    console.log(\"Error sending data\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst editCustomer = async (token, customer) => {\r\n  try {\r\n    const edited = await axios.put(\r\n      `${baseUrl}/customer/${customer._id}`,\r\n      customer,\r\n      {\r\n        headers: { Authorization: `Bearer: ${token}` }\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst deleteCustomer = async (token, id) => {\r\n  try {\r\n    const customer = await axios.delete(`${baseUrl}/customer/${id}`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport default {\r\n  getCustomers,\r\n  saveCustomer,\r\n  editCustomer,\r\n  deleteCustomer\r\n};\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { useTable, useSortBy, useFilters, usePagination } from \"react-table\";\r\nimport dayjs from \"dayjs\";\r\nimport advancedFormat from \"dayjs/plugin/advancedFormat\";\r\nimport styled from \"styled-components\";\r\n\r\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport NavigateNext from \"@material-ui/icons/NavigateNext\";\r\nimport NavigateBefore from \"@material-ui/icons/NavigateBefore\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ArrowDropUpIcon from \"@material-ui/icons/ArrowDropUp\";\r\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\r\n\r\ndayjs.extend(advancedFormat); // Plugin to format date\r\n\r\nconst Table = styled.table`\r\n  border-collapse: collapse;\r\n  border-radius: 1em;\r\n  overflow: hidden;\r\n  width: 100%;\r\n`;\r\n\r\nconst TableHeader = styled.thead`\r\n  background-color: #eee;\r\n  & th {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  padding-top: 15px;\r\n  .react-td,\r\n  .save-to-pdf,\r\n  .delete {\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  td {\r\n    padding: 10px;\r\n  }\r\n  input {\r\n    margin-bottom: 20px;\r\n    padding: 10px;\r\n  }\r\n  th {\r\n    height: 30px;\r\n    & div {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Pagination = styled.div``;\r\n\r\nconst CRMTable = ({ data, handleClick, deleteCustomer }) => {\r\n  const [filterInput, setFilterInput] = useState(\"\");\r\n\r\n  // Update the state when input changes\r\n  const handleFilterChange = (e) => {\r\n    const value = e.target.value || undefined;\r\n    setFilter(\"name\", value);\r\n    setFilterInput(value);\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"Nombre\",\r\n        accessor: \"name\",\r\n        sortBy: \"string\"\r\n      },\r\n\r\n      {\r\n        Header: \"Contrato\",\r\n        accessor: \"estadoContrato\"\r\n      },\r\n      {\r\n        Header: \"Modelo Contrato\",\r\n        accessor: \"modeloContrato\"\r\n      },\r\n      {\r\n        Header: \"Delete\",\r\n        accessor: \"\",\r\n        Cell: (props) => {\r\n          return (\r\n            <DeleteIcon\r\n              className=\"delete\"\r\n              onClick={() => deleteCustomer(props.cell.row.original._id)}\r\n            >\r\n              PDF\r\n            </DeleteIcon>\r\n          );\r\n        }\r\n      }\r\n    ],\r\n    []\r\n  );\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    prepareRow,\r\n    setFilter,\r\n    // Pagination helpers\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize }\r\n  } = useTable({ columns, data }, useFilters, useSortBy, usePagination);\r\n\r\n  return (\r\n    <Container>\r\n      <input\r\n        value={filterInput}\r\n        onChange={handleFilterChange}\r\n        placeholder={\"Buscar por nome\"}\r\n      />\r\n      <Table className=\"-highlight\" {...getTableProps()}>\r\n        <TableHeader>\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column) => (\r\n                <th {...column.getHeaderProps(column.getSortByToggleProps())}>\r\n                  <div>\r\n                    {column.render(\"Header\")}\r\n                    <span>\r\n                      {column.isSorted ? (\r\n                        column.isSortedDesc ? (\r\n                          <ArrowDropDownIcon />\r\n                        ) : (\r\n                          <ArrowDropUpIcon />\r\n                        )\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </TableHeader>\r\n\r\n        <tbody className=\"rt-tbody\" {...getTableBodyProps()}>\r\n          {page.map((row) => {\r\n            prepareRow(row);\r\n            return (\r\n              <tr key={row.original._id}>\r\n                {row.cells.map((cell) => {\r\n                  if (\r\n                    cell.column.Header !== \"Download\" &&\r\n                    cell.column.Header !== \"Delete\"\r\n                  ) {\r\n                    return (\r\n                      <td\r\n                        className=\"react-td\"\r\n                        {...cell.getCellProps()}\r\n                        onMouseEnter={(e) => {\r\n                          e.target.parentNode.style.backgroundColor = \"#F1769A\";\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.target.parentNode.style.backgroundColor = \"inherit\";\r\n                        }}\r\n                        onClick={() => {\r\n                          handleClick(cell.row.original);\r\n                        }}\r\n                      >\r\n                        {cell.render(\"Cell\")}\r\n                      </td>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\r\n                    );\r\n                  }\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n      <Pagination>\r\n        <button onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          <FirstPage />\r\n        </button>{\" \"}\r\n        <button onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          <NavigateBefore />\r\n        </button>{\" \"}\r\n        <button onClick={() => nextPage()} disabled={!canNextPage}>\r\n          <NavigateNext />\r\n        </button>{\" \"}\r\n        <button onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          <LastPage />\r\n        </button>{\" \"}\r\n        <span>\r\n          Página\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{\" \"}\r\n        </span>\r\n        <span>\r\n          | Ir a página:{\" \"}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={(e) => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0;\r\n              gotoPage(page);\r\n            }}\r\n            style={{ width: \"100px\" }}\r\n          />\r\n        </span>{\" \"}\r\n        <Select\r\n          value={pageSize}\r\n          onChange={(e) => {\r\n            setPageSize(Number(e.target.value));\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map((pageSize) => (\r\n            <MenuItem key={pageSize} value={pageSize}>\r\n              Mostrar {pageSize}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </Pagination>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CRMTable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {useForm, Controller, useFieldArray} from \"react-hook-form\";\r\nimport styled from \"styled-components\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { FormControl, FormHelperText } from \"@material-ui/core\";\r\nconst FlexContainer = styled.div`\r\n  display: flex;\r\n  background-color: #eee;\r\n  margin: 10px;\r\n  flex-flow: column wrap;\r\n  & button {\r\n    align-self: center;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n  margin: 0px 10px;\r\n  & fieldset {\r\n    border: solid 0 black;\r\n  }\r\n  & input[type=\"text\"],\r\n  input[type=\"number\"],\r\n  select,\r\n  option {\r\n    background-color: #f3f3f3;\r\n    border: none;\r\n    margin: 10px;\r\n  }\r\n  & select,\r\n  option {\r\n    padding: 10px;\r\n  }\r\n`;\r\nconst Title = styled.div`\r\n  align-self: center;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  && {\r\n    margin: 5px 0px;\r\n  }\r\n`;\r\nconst StyledTextField = styled(TextField)`\r\n  & input,\r\n  textarea,\r\n  select,\r\n  option,\r\n  root {\r\n    padding: 20px;\r\n    background-color: #f3f3f3;\r\n  }\r\n`;\r\nconst StyledSelect = styled(Select)`\r\n  background-color: #f3f3f3;\r\n  margin: 10px;\r\n  & input {\r\n    background-color: #f3f3f3;\r\n  }\r\n`;\r\n\r\nconst CRMForm = ({\r\n  submitCRMForm,\r\nisEditing,\r\n  customer,\r\n  closeModal\r\n}) => {\r\n  const [hiddenSelect, setHiddenSelect] = useState(\"default\");\r\n  const {control, handleSubmit, reset, setValue} = useForm({defaultValues:{}});\r\n  const {fields, append, remove, replace} = useFieldArray({control, name: 'pets'})\r\n\r\n  useEffect(()=>{\r\n    if(isEditing){\r\n      reset({\r\n        name: customer.name,\r\n        modeloContrato: customer.modeloContrato,\r\n        estadoContrato: customer.estadoContrato,\r\n        _id: customer._id,\r\n        projectId: customer.projectId,\r\n        __v: customer.__v\r\n      }, {keepDefaultValues: true})\r\n      replace(customer.pets)\r\n    }\r\n\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleSubmit(submitCRMForm)}>\r\n        <Title>\r\n          <h2> Detalles del Cliente</h2>\r\n        </Title>\r\n        <hr />\r\n        <Controller\r\n        name=\"name\"\r\n        control={control}\r\n        rules={{required: \"Campo requerido\"}}\r\n        render={({field, fieldState: {error}})=><StyledTextField helperText={error? error.message : null} error={!!error} {...field} variant=\"outlined\" label=\"Nombre del Cliente\"></StyledTextField>}>\r\n        </Controller>\r\n        <Controller\r\n        name=\"modeloContrato\"\r\n        defaultValue={hiddenSelect}\r\n        control={control}\r\n        rules={{required: \"Campo requerido\",\r\n    validate: value => value !== \"default\" || \"Tienes que elegir algo\"}}\r\n    render={({field, fieldState:{error}})=><FormControl\r\n      error={!!error}>\r\n\r\n    <StyledSelect\r\n      \r\n      {...field}\r\n      variant=\"outlined\"\r\n      >\r\n      <MenuItem value={hiddenSelect} disabled>\r\n        Modelo Contrato\r\n      </MenuItem>\r\n      <MenuItem value=\"12 IVA Incluído\">12</MenuItem>\r\n      <MenuItem value=\"12 + IVA\">12 + IVA</MenuItem>\r\n      <MenuItem value=\"20 IVA incluído\">20 IVA incluido</MenuItem>\r\n    </StyledSelect>\r\n<FormHelperText>{error? error.message : null}</FormHelperText>\r\n    </FormControl>}\r\n    >\r\n        </Controller>\r\n        <Controller\r\n          name=\"estadoContrato\"\r\n        defaultValue={hiddenSelect}\r\n        control={control}\r\n        rules={{required: \"Campo requerido\",\r\n    validate: value => value !== \"default\" || \"Tienes que elegir algo\"}}\r\n    render={({field, fieldState:{error}})=><FormControl\r\n      error={!!error}>\r\n\r\n    <StyledSelect\r\n      \r\n      {...field}\r\n      variant=\"outlined\"\r\n      >\r\n       \r\n          <MenuItem value={hiddenSelect} disabled>\r\n            Estado del contrato{\" \"}\r\n          </MenuItem>\r\n          <MenuItem value=\"Firmado\">Firmado por los dos</MenuItem>\r\n          <MenuItem value=\"Firmado por Pet Sitter\">\r\n            Firmado por Pet Sitter\r\n          </MenuItem>\r\n          <MenuItem value=\"Firmado por Cliente\">Firmado por Cliente</MenuItem>\r\n          <MenuItem value=\"No firmado\">No Firmado</MenuItem>\r\n        </StyledSelect>\r\n        <FormHelperText>{error? error.message : null}</FormHelperText>\r\n    </FormControl>}\r\n    >\r\n        </Controller>\r\n        <Title>\r\n          <h2>Mascotas</h2>\r\n        </Title>\r\n        <hr />\r\n\r\n        <section>\r\n         {fields.map((item, index)=> {\r\n           return (\r\n\r\n             <FlexContainer key={item.id}>\r\n            <Controller name={`pets[${index}].petName`}\r\n            control={control}\r\n            defaultValue=\"\"\r\n            rules={{required: \"Campo requerido\"}}\r\n            render={({field, fieldState: {error}})=> <StyledTextField\r\n            {...field}\r\n            error={!!error}\r\n            helperText={error? error.message : null}\r\n            variant=\"outlined\"\r\n            size=\"medium\"\r\n            margin=\"dense\"\r\n            label=\"Nombre de la Mascota\"\r\n            ></StyledTextField>\r\n          }></Controller>\r\n \r\n  <Controller \r\n  name={`pets[${index}].petType`}\r\n  control={control}\r\n  defaultValue=\"\"\r\n  rules={{required: \"Campo requerido\"}}\r\n  render={({field, fieldState: {error}})=> \r\n  <StyledTextField\r\n  {...field}\r\n  error={!!error}\r\n  helperText={error? error.message : null}\r\n        \r\n  variant=\"outlined\"\r\n           label=\"Que mascota es? (gato, perro)\"\r\n           ></StyledTextField>\r\n          }></Controller>\r\n  <Controller \r\n  name={`pets[${index}].comment`}\r\n  control={control}\r\n  defaultValue=\"\"\r\n  rules={{required: \"Campo requerido\"}}\r\n  render={({field, fieldState: {error}})=> \r\n  <StyledTextField\r\n  multiline\r\n  rows={5}\r\n  {...field}\r\n  error={!!error}\r\n  helperText={error? error.message : null}\r\n  variant=\"outlined\"\r\n  label=\"Notas sobre la mascota\"\r\n  ></StyledTextField>\r\n}></Controller>\r\n  <StyledButton\r\n          variant=\"contained\"\r\n          \r\n          onClick={() => remove(index)}\r\n          >\r\n          Eliminar Mascota\r\n        </StyledButton>\r\n           </FlexContainer>\r\n            )\r\n         })}\r\n         </section>\r\n         <StyledButton variant=\"contained\" color=\"primary\" onClick={()=>{\r\n           append({petName: \" \", petType: \" \", comment: \" \"})\r\n          }}>\r\n          Añadir Mascota\r\n        </StyledButton>\r\n        <hr />\r\n        <StyledButton\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        type=\"submit\"\r\n        >\r\n          Guardar\r\n        </StyledButton>\r\n        <StyledButton\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={closeModal}\r\n        >\r\n          Cancelar\r\n        </StyledButton>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CRMForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport services from \"../../../services/crm\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport styled from \"styled-components\";\r\n\r\nimport CRMTable from \"./components/CRMTable\";\r\nimport AddClient from \"./components/CRMForm\";\r\n\r\nconst modalStyle = {\r\n  backgroundColor: \"white\",\r\n  position: \"absolute\",\r\n  width: \"50%\",\r\n  height: \"70%\",\r\n  left: \"20%\",\r\n  top: \"15%\",\r\n  overflowY: \"auto\"\r\n};\r\n\r\nlet newCustomer = {\r\n  name: \"\",\r\n  estadoContrato: \"No Firmado\",\r\n  modeloContrato: \"12 + IVA\"\r\n};\r\n\r\nlet pet = {\r\n  petType: \"\",\r\n  petName: \"\",\r\n  petId: \"\"\r\n};\r\n\r\nconst Dashboard = styled.section`\r\n  padding-top: 20px;\r\n`;\r\nconst DashboardHeader = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Content = styled.section`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-content: center;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst CRMDashboard = ({ token, user }) => {\r\n  // Modal Inputs State\r\n  const [customer, setCustomer] = useState(newCustomer);\r\n  const [customerSaved, setCustomerSaved] = useState(false);\r\n  // Invoice List State\r\n  const [customerList, setCustomerList] = useState([]);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    callGetCustomers();\r\n  }, [customerSaved]);\r\n\r\n  async function callGetCustomers() {\r\n    \r\n    try {\r\n      const customers = await services.getCustomers(token);\r\n      if(customers && customers?.length !== undefined){\r\n        setCustomerList(customers);\r\n      }\r\n    }\r\n  catch(error) {\r\n    setCustomerList([])\r\n    console.log(error)\r\n  }\r\n  }\r\n  const resetDashboardState = () => {\r\n    setOpenModal(false);\r\n    setIsEditing(false);\r\n    setCustomerSaved(!customerSaved);\r\n    setCustomer(newCustomer);\r\n\r\n  };\r\n\r\n\r\n  // Save the articles list to the current customer\r\n  const handleSubmit = async (customerToSave, event) => {\r\n    event.preventDefault();\r\n    await services.saveCustomer(token, customerToSave);\r\n    setCustomerSaved(!customerSaved);\r\n    resetDashboardState();\r\n  };\r\n  // End of customer Handlers\r\n\r\n  // Editing customer\r\n  const editCustomer = (customerReceived) => {\r\n    setCustomer(customerReceived);\r\n    setIsEditing(true);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleEdit = async (customerToSave, e) => {\r\n    e.preventDefault();\r\n    await services.editCustomer(token, customerToSave);\r\n    setCustomerSaved(!customerSaved);\r\n    resetDashboardState();\r\n  };\r\n\r\n  const handlePdf = async (id) => {\r\n    if (window.confirm(\"do you want to save it?\")) {\r\n      await services.saveToPdf(token, id);\r\n    } else {\r\n      console.log(\"so bad!\");\r\n    }\r\n  };\r\n\r\n  const deleteCustomer = async (id) => {\r\n    if (window.confirm(\"Do you really want to delete the file?\")) {\r\n      await services.deleteCustomer(token, id);\r\n      await callGetCustomers();\r\n      setCustomerSaved(!customerSaved);\r\n      resetDashboardState();\r\n    } else {\r\n      console.log(\"so bad!\");\r\n    }\r\n  };\r\n\r\n  const callTable = () => {\r\n    return (\r\n      <CRMTable\r\n        data={customerList}\r\n        handleClick={editCustomer}\r\n        saveToPdf={handlePdf}\r\n        deleteCustomer={deleteCustomer}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Dashboard>\r\n      <div>\r\n        <DashboardHeader>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpenModal(true)}\r\n          >\r\n            Nuevo Cliente\r\n          </Button>\r\n        </DashboardHeader>\r\n        <Content>{customerList ? callTable() : null}</Content>\r\n        <Modal open={openModal} onClose={() => resetDashboardState()}>\r\n          <div style={modalStyle}>\r\n            <AddClient\r\n              submitCRMForm={isEditing ? handleEdit : handleSubmit}\r\n              customer={customer}\r\n              isEditing={isEditing}\r\n              closeModal={() => resetDashboardState()}\r\n            />\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    </Dashboard>\r\n  );\r\n};\r\n\r\nexport default CRMDashboard;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\n\r\nconst Title = styled.div``;\r\nconst Content = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n  align-items: center;\r\n`;\r\n\r\nconst Home = () => {\r\n  return (\r\n    <Content>\r\n      <Title>\r\n        <h2>Bienvenido a Gordian Knot</h2>\r\n      </Title>\r\n      <p>\r\n        Este es un proyecto en desarrollo. Es una webapp para gestionar pequeñas\r\n        empresas y equipos.\r\n      </p>\r\n      <p>\r\n        Esta hecho con MERN stack, en el front end utilizo Material UI como\r\n        libreria y Styled-Components para el estilo. El testing es con Jest,\r\n        utiliza Puppetter para el renderizado de pdf y react-beautiful-dnd para\r\n        la lista de tareas.\r\n      </p>\r\n      <p>\r\n        Lo creé para ayudar en la organización y gestión de la empresa que soy\r\n        co-fundador,{\" \"}\r\n        <a href=\"https://www.furmidablefamily.com\">Furmidable Family</a>.\r\n      </p>\r\n      <p>\r\n        Si quieres saber más contactame por{\" \"}\r\n        <a href=\"https://linkedin.com/in/joaoemmerich\">LinkedIn</a>\r\n      </p>\r\n      <p>João Emmerich</p>\r\n\r\n      <hr />\r\n      <Title>\r\n        <h2>Roadmap</h2>\r\n      </Title>\r\n      <List>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled checked={true} />\r\n          </ListItemIcon>\r\n          <ListItemText>MVP</ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled  />\r\n          </ListItemIcon>\r\n          <ListItemText>User Roles</ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled />\r\n          </ListItemIcon>\r\n          <ListItemText>\r\n            Gestión de Usuarios / Añadir Colaboradores\r\n          </ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled />\r\n          </ListItemIcon>\r\n          <ListItemText>Dashboard con estadísticas</ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled />\r\n          </ListItemIcon>\r\n          <ListItemText>\r\n            Subir ficheros / Gestionar contratos de los clientes\r\n          </ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled checked={true}/>\r\n          </ListItemIcon>\r\n          <ListItemText>Validación de los formularios</ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled />\r\n          </ListItemIcon>\r\n          <ListItemText>Notificaciones con Socket.IO</ListItemText>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <Checkbox disabled />\r\n          </ListItemIcon>\r\n          <ListItemText>\r\n            Establecer tema front-end / Añadir tema oscuro\r\n          </ListItemText>\r\n        </ListItem>\r\n      </List>\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_ENDPOINT || \"/api\";\r\nconst path = \"setting\";\r\n\r\n\r\nconst getProjects = async (token) => {\r\n  try {\r\n    const invoices = await axios.get(`${baseUrl}/${path}`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n    return invoices.data.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getUser = async (token) => {\r\n  try {\r\n    const invoices = await axios.get(`${baseUrl}/${path}/user`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n    return invoices.data.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst saveProject = async (token, project) => {\r\n\r\n  try {\r\n    const user = await axios.post(`${baseUrl}/${path}`, project, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n \r\n    return user.data.data\r\n  } catch (err) {\r\n    console.log(\"has an error\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst editProject = async (token, project) => {\r\n  try {\r\n    await axios.put(`${baseUrl}/${path}/${project._id}`, project, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst deleteProject = async (token, id) => {\r\n  try {\r\n    const project = await axios.delete(`${baseUrl}/${path}/${id}`, {\r\n      headers: { Authorization: `Bearer: ${token}` }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst saveCurrentProject = async(token, projectId) => {\r\n  try {\r\nconst currentProject = await axios.put(`${baseUrl}/${path}`, projectId, {\r\n  headers: {Authorization: `Bearer: ${token}`}\r\n});\r\nreturn currentProject\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport default { getProjects, saveProject, editProject, deleteProject, getUser, saveCurrentProject };","import React, { useEffect, useState, useContext } from \"react\";\r\nimport {UserContext} from \"../../../services/userContext\"\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport styled from \"styled-components\";\r\nimport services from \"../../../services/settings\";\r\n\r\nconst StyledTextField = styled(TextField)`\r\n  & input,\r\n  textarea,\r\n  select,\r\n  option,\r\n  root {\r\n    padding: 20px;\r\n    background-color: #f3f3f3;\r\n  }\r\n`;\r\nconst Settings = ({ token, user }) => {\r\n  const [projectName, setProjectName] = useState(\"\");\r\n  const [hasSaved, setHasSaved] = useState(false)\r\n  const [workingProject, setWorkingProject] = useState();\r\n const {updateUser, updateWorkingProjectContext} = useContext(UserContext);\r\n const [hiddenSelect, setHiddenSelect] = useState(\"default\");\r\n  useEffect(() => {\r\n    async function fetchUpdatedUser() {\r\n      const projects = await services.getUser(token);\r\n      updateUser(projects);\r\n    }\r\n    fetchUpdatedUser();\r\n  }, [hasSaved]);\r\n\r\n  const saveProject =async () => {\r\n    const project = {\r\n      projectName: projectName,\r\n      projectUsers: [{ userId: user._id, role: \"admin\" }]\r\n    };\r\n   const returned = await services.saveProject(token, project);\r\n   setProjectName(\"\");\r\n   setHasSaved(!hasSaved);\r\n\r\n  };\r\n\r\n  const saveWorkingProject = async (currentProjectToSave) => {\r\n    \r\n      const project = user.projects.find(project => project.projectName === currentProjectToSave)\r\n      const newUser = await services.saveCurrentProject(token, project);\r\n  \r\n  }\r\n\r\nconst selectWorkingProject = (selectedProject) => {\r\n\r\n  if(selectedProject !== \"Cual proyecto quieres trabajar?\") {\r\n    setWorkingProject(selectedProject);\r\n   \r\n  }\r\n\r\n}\r\nconst updateWorkingProject = () => {\r\n  if(workingProject !== \"Cual proyecto quieres trabajar?\") {\r\nupdateWorkingProjectContext(workingProject);\r\nsaveWorkingProject(workingProject);\r\n  }\r\n}\r\n  return (\r\n    <div>\r\n      <p>Estos son los ajustes.</p>\r\n\r\n      <p>\r\n        Puede crear nuevo projecto y añadir compañeros con su nombre de usuario.\r\n      </p>\r\n      <p>Muestra los projectos que tiene y su rol en cada uno</p>\r\n      <p>Muestra su nombre de usuario, y su id </p>\r\n\r\n\r\n\r\n      <div>\r\n        <h2>Crear nuevo projecto</h2>\r\n        \r\n          <div>\r\n            <StyledTextField\r\n              placeholder=\"Nombre del projecto\"\r\n              variant=\"outlined\"\r\n              type=\"text\"\r\n              id=\"username\"\r\n              margin=\"dense\"\r\n              onChange={(e) => setProjectName(e.target.value)}\r\n              value={projectName}\r\n            />\r\n          </div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => saveProject()}\r\n          >\r\n            Enviar\r\n          </Button>\r\n        \r\n      </div>\r\n\r\n      <div><h2>Elegir proyecto</h2>\r\n      <Select\r\n     defaultValue={hiddenSelect}\r\n\r\n       onChange={(e)=>selectWorkingProject(e.target.value)}\r\n       name=\"workingProject\"\r\n       variant=\"outlined\">\r\n<MenuItem value={hiddenSelect} disabled>\r\n         Cual proyecto quieres trabajar?\r\n          </MenuItem>\r\n{user && user.projects?\r\n      \r\nuser.projects.map(project => <MenuItem key={project._id} value={project.projectName}>{project.projectName}</MenuItem>) : null}\r\n      </Select>\r\n      <Button  variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => updateWorkingProject()}>Elegir</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;","import React, { useState, useContext } from \"react\";\r\nimport { Switch, Route, useLocation } from \"react-router-dom\";\r\nimport { styles } from \"../../styleApp.js\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\nimport { UserContext } from \"../../services/userContext\";\r\n// Components\r\n\r\nimport Nav from \"../../navigation/Nav\";\r\nimport InvoiceDashboard from \"./invoices/InvoiceDashboard\";\r\nimport CRMDashboard from \"./crm/CRMDashboard\";\r\nimport Home from \"./Home\";\r\nimport Settings from \"./settings/Settings\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\n//This component is to fix the App bar standing over the other components.\r\nconst FixHeader = styled.div`\r\n  height: 55px;\r\n`;\r\n\r\nexport default function Dashboard({ token }) {\r\n  const classes = useStyles();\r\n\r\n  const [isOpened, setIsOpened] = useState(false);\r\n  const { user, logout, selectedProject } = useContext(UserContext);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FixHeader>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => setIsOpened(!isOpened)}\r\n              className={classes.icon}\r\n            >\r\n              {isOpened ? <ChevronLeftIcon /> : <MenuIcon />}\r\n            </IconButton>\r\n            <Typography variant=\"h6\">Gordian Knot</Typography>\r\n            <Typography variant=\"h6\" style={{ marginLeft: \"auto\" }}> {selectedProject && selectedProject.projectName !== \"\" ? \r\n            <p>Estas trabajando en: <span style={{color: \"white\"}}> {selectedProject.projectName} </span></p> : (<Button href=\"http://localhost:3000/app/ajustes\" variant=\"contained\"\r\n            color=\"secondary\">Elegir Proyecto</Button>)} </Typography>\r\n            \r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => logout()}\r\n              style={{ marginLeft: \"auto\" }}\r\n            >\r\n              Logout{\" \"}\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </FixHeader>\r\n\r\n      <div className={classes.container}>\r\n        {/* Drawer is like NavBar */}\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          classes={{\r\n            paper: clsx(classes.drawer, {\r\n              [classes.closed]: !isOpened,\r\n              [classes.opened]: isOpened\r\n            })\r\n          }}\r\n        >\r\n          <Nav />\r\n        </Drawer>\r\n        <main className={classes.main}>\r\n          <Switch>\r\n            <Route path=\"/app/customer\">\r\n              <CRMDashboard token={token} user={user} selectedProject={selectedProject} />\r\n            </Route>\r\n            <Route path=\"/app/pdf\">\r\n              <InvoiceDashboard token={token} user={user} selectedProject={selectedProject}/>\r\n            </Route>\r\n            <Route path=\"/app/ajustes\">\r\n              <Settings token={token} user={user} selectedProject={selectedProject} />\r\n            </Route>\r\n            <Route path=\"/app\" token={token} user={user} selectedProject={selectedProject} exact>\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n        </main>\r\n      </div>\r\n\r\n      <footer className={classes.footer}>\r\n        <Typography variant=\"h6\"></Typography>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","export const styles = () => ({\r\n  root: {\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minHeight: \"100vh\",\r\n    color: \"#000133\"\r\n  },\r\n  appBar: {\r\n    background: \"#00022E\",\r\n    color: \"#FC86AA\"\r\n  },\r\n  icon: {\r\n    padding: \"10px\"\r\n  },\r\n  title: {\r\n    margin: \"auto\"\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flex: 1\r\n  },\r\n  drawer: {\r\n    position: \"static\",\r\n    transition: \"width .7s\"\r\n  },\r\n  closed: {\r\n    width: \"53px\"\r\n  },\r\n  opened: {\r\n    width: \"240px\"\r\n  },\r\n  main: {\r\n    flex: 1,\r\n    background: \"#f7f5f5\",\r\n    color: \"black\"\r\n  },\r\n  footer: {\r\n    background: \"#00022E\",\r\n    height: \"50px\",\r\n    color: \"#FC86AA\"\r\n  }\r\n});\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_ENDPOINT || \"/api\";\r\nconst path = \"auth\";\r\nconst registerNewUser = async (username, password) => {\r\n  try {\r\n    const user = await axios.post(`${baseUrl}/${path}/register`, {\r\n      username,\r\n      password\r\n    });\r\n    return user.data.data;\r\n  } catch (error) {\r\n    throw new Error(error.response.data.msg);\r\n  }\r\n};\r\n\r\nconst loginNewUser = async (username, password) => {\r\n  try {\r\n    const user = await axios.post(`${baseUrl}/${path}/login`, {\r\n      username,\r\n      password\r\n    });\r\n    return user.data.data;\r\n  } catch (error) {\r\n    throw new Error(error.response.data.msg);\r\n  }\r\n};\r\n\r\nexport default { loginNewUser, registerNewUser };\r\n","import React, { useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport services from \"../../services/auth\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { UserContext } from \"../../services/userContext\";\r\nimport constants from \"../../constants/index\";\r\nimport {Redirect} from \"react-router-dom\"\r\n\r\nconst Dashboard = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n`;\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n  justify-content: center;\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst Form = styled.div`\r\n  margin: 40px auto;\r\n  font-family: \"Segoe UI\", sans-serif;\r\n  padding: 25px 28px;\r\n  border-radius: 4px;\r\n  border: 1px solid #302d2d;\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n`;\r\nconst FormTitle = styled.p`\r\n  text-align: center;\r\n  font-size: 28px;\r\n  margin-bottom: 20px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst BottomMessage = styled.p`\r\n  text-align: center;\r\n  > a {\r\n    color: #fc86aa;\r\n  }\r\n`;\r\nconst StyledTextField = styled(TextField)`\r\n  & input,\r\n  textarea,\r\n  select,\r\n  option {\r\n    padding: 20px;\r\n  }\r\n`;\r\nconst ErrorMessage = styled.div`\r\n  flex-grow: 0;\r\n  text-align: center;\r\n  color: white;\r\n  font-size: 14px;\r\n  padding: 5px;\r\n  width: 90%;\r\n`;\r\nconst InputBlock = styled.div`\r\n  display: block;\r\n  margin-bottom: 20px;\r\n`;\r\nconst LoginForm = ({ submitUser }) => {\r\n  const [isLoginForm, setIsLoginForm] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { login } = useContext(UserContext);\r\n  const token = localStorage.getItem(constants.ACCESS_TOKEN);\r\n\r\n  const submitLogin = async (e, username, password) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const user = await services.loginNewUser(username, password);\r\n      login(user);\r\n    } catch (err) {\r\n      setErrorMessage(err.message);\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 2000);\r\n    }\r\n  };\r\n  const submitRegister = async (e, username, password) => {\r\n    try {\r\n      e.preventDefault();\r\n      const user = await services.registerNewUser(username, password);\r\n      login(user);\r\n    } catch (err) {\r\n      setErrorMessage(err.message);\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 4000);\r\n    }\r\n  };\r\n\r\n  return !token? \r\n  (\r\n\r\n<Dashboard>\r\n\r\n      <header style={{ backgroundColor: \"#00022E\", color: \"#FC86AA\" }}>\r\n        <FormTitle>Gordian Knot</FormTitle>\r\n      </header>\r\n\r\n      <Container>\r\n        <Form>\r\n          <FormTitle>{isLoginForm ? \"Login\" : \"Registro\"}</FormTitle>\r\n          <form>\r\n            <InputBlock>\r\n              <StyledTextField\r\n                placeholder=\"Nombre de usuario\"\r\n                variant=\"outlined\"\r\n                type=\"text\"\r\n                id=\"username\"\r\n                margin=\"dense\"\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                value={username}\r\n              />\r\n            </InputBlock>\r\n            <InputBlock>\r\n              <StyledTextField\r\n                placeholder=\"Contraseña\"\r\n                type=\"password\"\r\n                variant=\"outlined\"\r\n                id=\"password\"\r\n                margin=\"dense\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                value={password}\r\n              />\r\n            </InputBlock>\r\n          </form>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={\r\n              isLoginForm\r\n                ? (e) => submitLogin(e, username, password)\r\n                : (e) => submitRegister(e, username, password)\r\n            }\r\n          >\r\n            Enviar\r\n          </Button>\r\n\r\n          <BottomMessage>\r\n            Quieres&nbsp;\r\n            <Button\r\n              style={{ color: \"#FC86AA\" }}\r\n              onClick={() => setIsLoginForm(!isLoginForm)}\r\n            >\r\n              {isLoginForm ? \"te registrar\" : \"hacer login\"}\r\n            </Button>\r\n            &nbsp;?\r\n          </BottomMessage>\r\n        </Form>\r\n        {errorMessage ? (\r\n          <ErrorMessage>\r\n            <p>{errorMessage}</p>\r\n          </ErrorMessage>\r\n        ) : (\r\n          <ErrorMessage>&nbsp;</ErrorMessage>\r\n        )}\r\n      </Container>\r\n      <footer style={{ backgroundColor: \"#00022E\", color: \"#FC86AA\" }}>\r\n        <BottomMessage>\r\n          Desarollado por{\" \"}\r\n          <a href=\"https://linkedin.com/in/joao-emmerich\">João Emmerich</a>\r\n        </BottomMessage>\r\n      </footer>\r\n    </Dashboard>) : <Redirect to=\"/app\" />\r\n  \r\n};\r\n\r\nexport default LoginForm;\r\n","import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"img-container\">\r\n        <img\r\n          src={window.location.origin + \"/todo.png\"}\r\n          alt=\"todo Logo\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"header-container\">\r\n        <ul className=\"header-list\">\r\n          {/* <li>Fastenrath 64 1-2</li> */}\r\n          <li>08035 Barcelona</li>\r\n          <li>España</li>\r\n          {/* <li>CIF/NIF: Y5473135T</li> */}\r\n          {/* <li>+34 692 264 697</li> */}\r\n          {/* <li>admin@furmidablefamily.com</li> */}\r\n        </ul>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst CustDetails = ({ invoice }) => {\r\n  const {\r\n    invoiceNumber,\r\n    invoiceDate,\r\n    invoiceTotal,\r\n    orderNumber,\r\n    clientName\r\n  } = invoice;\r\n  return (\r\n    <section className=\"cust-details-container\">\r\n      <div className=\"cust-details\">\r\n        <h2>Factura en nombre de: </h2>\r\n        <ul className=\"cust-details-items\">\r\n          <li>{clientName}</li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"invoice-details\">\r\n        <h2>Detalles</h2>\r\n        <div className=\"detail-lists\">\r\n          <ul>\r\n            <li>Numero de factura </li>\r\n            <li>Fecha de factura</li>\r\n            {/* <li>Numero pedido</li> */}\r\n          </ul>\r\n          <ul className=\"detail-lists-results\">\r\n            <li>{invoiceNumber} </li>\r\n            <li>{invoiceDate}</li>\r\n            {/* <li>{orderNumber}</li> */}\r\n          </ul>\r\n        </div>\r\n        <div className=\"total-container\">\r\n          <p>Total:</p>\r\n          <p>€ {invoiceTotal}</p>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CustDetails;\r\n","import React from \"react\";\r\n\r\nconst Articles = ({ articles }) => {\r\n  return (\r\n    <div className=\"table-container\">\r\n      <table className=\"articles-table pdf-table\">\r\n        <thead className=\"pdf-thead\">\r\n          <tr>\r\n            <td className=\"pdf-td\" colSpan=\"2\">\r\n              Articulo\r\n            </td>\r\n            <td className=\"td-centered pdf-td\">\r\n              Precio Unidad <br></br>\r\n              <span className=\"iva-detail\">IVA INCL</span>\r\n            </td>\r\n            <td className=\"pdf-td\">Unidades</td>\r\n            <td className=\"td-centered pdf-td\">\r\n              Precio total <br></br>\r\n              <span className=\"iva-detail\">IVA INCL</span>\r\n            </td>\r\n            <td className=\"pdf-td\">Tasa IVA</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"pdf-tbody\">\r\n          {articles.map((article) => {\r\n            return (\r\n              <tr key={article.articleId}>\r\n                <td className=\"pdf-td\" colSpan=\"2\">\r\n                  {article.articleName}\r\n                </td>\r\n                <td className=\"td-centered pdf-td\">€ {article.pricePerUnit}</td>\r\n                <td className=\"td-centered pdf-td\">{article.quantity}</td>\r\n                <td className=\"td-centered pdf-td\">€ {article.totalPrice}</td>\r\n                <td className=\"td-centered pdf-td\">% {article.vat}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Articles;\r\n","import React from \"react\";\r\n\r\nconst Total = ({ invoice }) => {\r\n  const { invoiceTotal, invoiceSubTotal, invoiceTax } = invoice;\r\n\r\n  return (\r\n    <div className=\"desglose-container\">\r\n      <div className=\"total-container\">\r\n        <p>Total: </p>\r\n        <p>€{invoiceTotal}</p>\r\n      </div>\r\n      <div className=\"desglose-p\">\r\n        {\" \"}\r\n        <p>Desglose del IVA: </p>\r\n      </div>\r\n      <div className=\"desglose\">\r\n        <p>€{invoiceSubTotal}</p>\r\n        <p>más iva de 21%</p>\r\n        <p>€{invoiceTax}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Total;\r\n","import axios from \"axios\";\r\nconst baseUrl = process.env.REACT_APP_API_ENDPOINT || \"/api\";\r\nconst path = \"invoice\"\r\nconst getInvoiceData = async (token, id) => {\r\n    try {\r\n      const invoiceData = await axios.get(`${baseUrl}/${path}/${id}`, {\r\n        headers: { Authorization: `Bearer: ${token}` }\r\n      });\r\n      return invoiceData.data.data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\nexport default {getInvoiceData}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Header from \"./components/Header\";\r\nimport CustDetails from \"./components/CustDetails\";\r\nimport Articles from \"./components/Articles\";\r\nimport Total from \"./components/Total\";\r\nimport constants from \"../../constants/index\";\r\nimport \"./DocumentPDF.css\";\r\nimport services from \"../../services/pdf\"\r\n\r\n\r\nconst DocumentPDF = ({ match }) => {\r\n  const [invoice, setInvoice] = useState(null);\r\n\r\n  useEffect(\r\n    \r\n    () => {\r\n      const token = localStorage.getItem(constants.ACCESS_TOKEN);\r\n      if(token){\r\n getInvoiceData(token, match.params.id);\r\n        }\r\n    },\r\n    [match.params]\r\n  );\r\n\r\n  const getInvoiceData = async (token, id) => {\r\n    try {\r\n      const invoiceData = await services.getInvoiceData(token, id)  \r\nsetInvoice(invoiceData);   \r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"document\">\r\n        <section className=\"page\">\r\n          <div className=\"pdf-content\">\r\n            <Header />\r\n            <hr></hr>\r\n            {invoice !== null ? (\r\n              <>\r\n                <CustDetails invoice={invoice} client={invoice.client} />\r\n                <Articles articles={invoice.articles} />\r\n                <hr></hr>\r\n                <Total invoice={invoice} />\r\n              </>\r\n            ) : null}\r\n          </div>\r\n        </section>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\nexport default DocumentPDF;\r\n","import React, { useState } from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport history from \"./helpers/history\";\r\nimport PrivateRoute from \"./navigation/PrivateRoute\";\r\nimport Dashboard from \"./views/dashboard/Dashboard\";\r\nimport LoginForm from \"./views/landing/LoginForm\"\r\nimport DocumentPDF from \"./views/pdf-page/DocumentPDF\";\r\nimport { UserProvider } from \"./services/userContext\";\r\nconst App = () => {\r\n  const [user, setUser] = useState();\r\n\r\n  return (\r\n    <div>\r\n        <UserProvider>\r\n      <Router history={history}>\r\n        <Switch>\r\n          <PrivateRoute component={Dashboard} path=\"/app\" user={user} />\r\n          <PrivateRoute component={DocumentPDF} path=\"/topdf/:id\" user={user} />\r\n          <Route path=\"/\">\r\n            <LoginForm />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n          </UserProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\n\r\nimport \"typeface-roboto\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n   \r\n      <App />\r\n   \r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}